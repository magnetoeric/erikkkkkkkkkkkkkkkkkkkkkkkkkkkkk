title: 如何正确删除大文件
tags:
  - linux
category: linux
date: 2015-08-10 17:47:01

---
## 小记
今天在迁移脚本时发现了一个运行了2个月的脚本，死循环了- -。写了一大堆垃圾日志
然后无脑地去vim log文件，shell挂掉了。。。
重新登录到服务器，ll看了下，25G，难怪。停掉了脚本，删除日志。
`rm xxx.log`，用时2分钟。shell就卡在那里。
后来问了一下马大神，如何提高删除的姿势，马大神说：’echo‘。
在自己机器上写了个30G的垃圾文件,然后
```
echo ''>xxx.log
rm xxx.log
```
秒删。

rm删除的原理是通过释放文件占用的索引节点和数据块达到 “删除”，所以在删除大文件时做的‘工作’会很多。